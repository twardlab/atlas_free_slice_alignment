Search.setIndex({"alltitles": {"Atlas Free Slice Alignment Helper Functions": [[4, null]], "Atlas Free Slice Alignment Pipeline": [[3, null]], "Contents:": [[0, null]], "Convert to pytorch": [[2, "Convert-to-pytorch"]], "Get Jacobian weights": [[2, "Get-Jacobian-weights"]], "Get robustness loss and weights": [[2, "Get-robustness-loss-and-weights"]], "Get some files": [[2, "Get-some-files"]], "Goal": [[2, null]], "Group exponential": [[2, "Group-exponential"]], "Helper functions": [[2, "Helper-functions"]], "Interpolation": [[2, "Interpolation"]], "Parameters:": [[3, "parameters"], [4, "parameters"], [4, "id1"], [4, "id3"], [4, "id5"], [4, "id7"], [4, "id9"], [4, "id11"], [4, "id13"], [4, "id15"], [4, "id17"], [4, "id19"], [4, "id21"], [4, "id23"], [4, "id25"], [4, "id27"], [4, "id29"]], "Returns:": [[3, "returns"], [4, "returns"], [4, "id2"], [4, "id4"], [4, "id6"], [4, "id8"], [4, "id10"], [4, "id12"], [4, "id14"], [4, "id16"], [4, "id18"], [4, "id20"], [4, "id22"], [4, "id24"], [4, "id26"], [4, "id28"], [4, "id30"]], "Update atlas": [[2, "Update-atlas"]], "Weighted SSE registration": [[2, "Weighted-SSE-registration"]], "atlas_free_slice_alignment documentation": [[0, null]], "for andrew": [[2, "for-andrew"]], "now all the parts are in place, need to set up the big algorithm": [[2, "now-all-the-parts-are-in-place,-need-to-set-up-the-big-algorithm"]]}, "docnames": ["index", "notebooks/example", "notebooks/slice_alignment_parallel Telescope a=0.25 c=0.25 deform only-Copy1", "slice_alignment", "slice_alignment_help"], "envversion": {"nbsphinx": 4, "sphinx": 64, "sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.viewcode": 1}, "filenames": ["index.rst", "notebooks/example.ipynb", "notebooks/slice_alignment_parallel Telescope a=0.25 c=0.25 deform only-Copy1.ipynb", "slice_alignment.rst", "slice_alignment_help.rst"], "indexentries": {"a2dtoa3d() (in module slice_alignment_help)": [[4, "slice_alignment_help.A2DtoA3D", false]], "atlas_from_aligned_slices_and_weights() (in module slice_alignment_help)": [[4, "slice_alignment_help.atlas_from_aligned_slices_and_weights", false]], "atlas_from_aligned_slices_and_weights_() (in module slice_alignment_help)": [[4, "slice_alignment_help.atlas_from_aligned_slices_and_weights_", false]], "ax() (in module slice_alignment_help)": [[4, "slice_alignment_help.AX", false]], "detjac() (in module slice_alignment_help)": [[4, "slice_alignment_help.detjac", false]], "down2ax() (in module slice_alignment_help)": [[4, "slice_alignment_help.down2ax", false]], "exp() (in module slice_alignment_help)": [[4, "slice_alignment_help.exp", false]], "extent_from_x() (in module slice_alignment_help)": [[4, "slice_alignment_help.extent_from_x", false]], "interp() (in module slice_alignment_help)": [[4, "slice_alignment_help.interp", false]], "inverse_transform_image() (in module slice_alignment_help)": [[4, "slice_alignment_help.inverse_transform_image", false]], "l_from_xv_a_p() (in module slice_alignment_help)": [[4, "slice_alignment_help.L_from_xv_a_p", false]], "main() (in module slice_alignment)": [[3, "slice_alignment.main", false]], "module": [[3, "module-slice_alignment", false], [4, "module-slice_alignment_help", false]], "robust_loss() (in module slice_alignment_help)": [[4, "slice_alignment_help.robust_loss", false]], "slice_alignment": [[3, "module-slice_alignment", false]], "slice_alignment_help": [[4, "module-slice_alignment_help", false]], "transform_image() (in module slice_alignment_help)": [[4, "slice_alignment_help.transform_image", false]], "v2dtov3d() (in module slice_alignment_help)": [[4, "slice_alignment_help.v2DToV3D", false]], "weighted_see_registration() (in module slice_alignment_help)": [[4, "slice_alignment_help.weighted_see_registration", false]], "x_from_n_d() (in module slice_alignment_help)": [[4, "slice_alignment_help.x_from_n_d", false]]}, "objects": {"": [[3, 0, 0, "-", "slice_alignment"], [4, 0, 0, "-", "slice_alignment_help"]], "slice_alignment": [[3, 1, 1, "", "main"]], "slice_alignment_help": [[4, 1, 1, "", "A2DtoA3D"], [4, 1, 1, "", "AX"], [4, 1, 1, "", "L_from_xv_a_p"], [4, 1, 1, "", "atlas_from_aligned_slices_and_weights"], [4, 1, 1, "", "atlas_from_aligned_slices_and_weights_"], [4, 1, 1, "", "detjac"], [4, 1, 1, "", "down2ax"], [4, 1, 1, "", "exp"], [4, 1, 1, "", "extent_from_x"], [4, 1, 1, "", "interp"], [4, 1, 1, "", "inverse_transform_image"], [4, 1, 1, "", "robust_loss"], [4, 1, 1, "", "transform_image"], [4, 1, 1, "", "v2DToV3D"], [4, 1, 1, "", "weighted_see_registration"], [4, 1, 1, "", "x_from_n_d"]]}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "function", "Python function"]}, "objtypes": {"0": "py:module", "1": "py:function"}, "terms": {"": 2, "0": [1, 2, 4], "06d": 2, "1": [1, 2, 3, 4], "10": [2, 4], "10x10": 2, "12": 2, "12032": 2, "15": 2, "150": 2, "15x15": 2, "16": 4, "160": 2, "1d": 2, "1e": 2, "1e1": 2, "1e2": 2, "1e3": 2, "1e4": 2, "1e5": 2, "2": [1, 2, 4], "20": 2, "25": 2, "255": 2, "2d": 2, "2e2": 2, "3": [2, 4], "30": 2, "3d": [2, 4], "4": 2, "40": 2, "400": 2, "5": [2, 4], "50": 2, "5e2": 2, "6": 2, "75": 2, "787_nissl_good_png": 2, "8": [2, 4], "9": 2, "95": 2, "A": [2, 3, 4], "As": 2, "For": 2, "INTO": 2, "If": [2, 3, 4], "In": [2, 4], "It": 2, "NOT": 3, "The": [3, 4], "_": 2, "a2dtoa3d": [2, 4], "a_reg": 3, "ab": 2, "abenneck": 1, "act": 2, "add": 2, "add_subplot": 2, "affin": 2, "ai": [2, 4], "aj": 2, "align": 0, "align_corn": 2, "all": [1, 3, 4], "along": [2, 4], "also": 2, "alwai": 2, "amax": 2, "amin": 2, "an": [2, 4], "anew": 2, "ani": 2, "anisotropy_factor": [2, 3, 4], "anoth": 2, "apart": 2, "aphii": [2, 4], "append": 2, "appli": 2, "ar": [1, 4], "arang": 2, "argument": [1, 2, 4], "arr": 4, "arrai": [2, 4], "artifact": [1, 2, 3], "asdf": 2, "aspect": 2, "asquar": [2, 3, 4], "asquare0": [2, 3], "asquare3d": 2, "atla": 0, "atlas_": 2, "atlas_free_slice_align": 1, "atlas_free_slice_alignment_output": 1, "atlas_from_aligned_slices_and_weight": [2, 4], "atlas_from_aligned_slices_and_weights_": 4, "atmospher": 2, "auto": 2, "averag": 2, "averageofi": 2, "averageofj": 2, "avoid": 2, "ax": [2, 4], "ax_": 2, "ax_at": 2, "axi": [2, 4], "back": 2, "background": 2, "backprop": 2, "backward": 2, "base": 2, "basenam": 2, "becaus": [2, 4], "befor": 2, "begin": 2, "believ": 2, "below": [2, 4], "big": 4, "bigger": 2, "bilinear": 2, "binari": [2, 4], "black": 2, "blur": 2, "blure": [2, 4], "bmaproot": 2, "bool": [3, 4], "boolean": 1, "border": 2, "boundari": 2, "bounds_error": 2, "brain": 2, "break": 2, "bu": 2, "c": [2, 3, 4], "calcul": [2, 4], "can": 2, "case": 3, "cat": 2, "cell": 2, "center": [2, 4], "certain": 3, "chang": 2, "channel": [2, 4], "circ": [2, 4], "circular": 2, "cla": 2, "clf": 2, "clim": 2, "clone": 2, "close": 1, "cmd_str": 1, "co": 2, "code": 2, "coeffici": [2, 4], "col": 2, "cola": 2, "colon": 2, "colorbar": 2, "colum": 2, "column": 3, "command": 2, "comment": 2, "common": 3, "comparison": 2, "compat": 2, "compon": [2, 4], "compos": [2, 4], "comput": [2, 3], "concaten": 2, "condit": 2, "constant": [2, 4], "constrain": 2, "contain": [1, 3], "continu": 2, "contour": 2, "convent": 2, "coordin": [2, 4], "correlatoin": 2, "cpu": [2, 3], "creat": 2, "critic": 2, "cropi": 2, "croprij": 2, "cropw": 2, "current": [2, 3], "cwd": 2, "d": [2, 4], "daniel": 2, "data": [2, 4], "decid": 2, "def": 2, "default": [3, 4], "defin": 2, "deform": [2, 4], "delta": [2, 4], "deriv": 2, "descript": 4, "desktop": 1, "det": 2, "detach": 2, "determin": [2, 4], "detjac": [2, 4], "devic": [1, 2, 3, 4], "di": 2, "dim": 2, "dimens": [2, 4], "dimension": 4, "directori": [1, 3], "displac": [2, 4], "displai": 2, "display_id": 2, "dj": 2, "do": [2, 4], "document": 2, "doe": 2, "domain": 2, "don": 2, "down": [2, 3], "down2": 2, "down2ax": [2, 4], "download": 2, "draw": [2, 4], "dtward": 2, "dtype": [2, 3, 4], "due": 2, "dv": 2, "dx": [2, 4], "dxj": 2, "e": [2, 4], "each": [2, 4], "eat": 2, "edg": 2, "effect": 2, "elif": 2, "els": 2, "em": 2, "emm": 2, "emsav": 2, "enable_deform": 3, "end": [2, 4], "energi": 2, "ep": 2, "epl": [2, 3, 4], "ept": [2, 3, 4], "epv": [2, 3, 4], "er": [2, 4], "erat": 2, "ereg": 2, "eregistr": 2, "err2": 2, "error": 2, "ersav": 2, "esav": [2, 3], "estim": 2, "even": 2, "everi": 2, "everyth": 2, "exampl": [1, 2], "exclus": 3, "exp": [2, 4], "exponenti": 4, "expos": 2, "extendv": 2, "extent": [2, 4], "extent_from_x": [2, 4], "ey": 2, "f": [1, 2], "factor": 2, "fail": 2, "fals": [2, 4], "fft": 2, "fftd": 2, "fftn": 2, "fftshift": 2, "fig": [2, 4], "fig_": 2, "fig_at": 2, "fig_at_estim": 2, "fig_reg": 2, "figsiz": 2, "figur": [1, 2, 3], "file": [1, 3], "filesmoon": [1, 2], "final": [2, 3], "find": 2, "first": [2, 4], "flag": 1, "flip": 2, "float": 3, "float32": [2, 4], "fname": [1, 3], "forward": 2, "fourier": 2, "frame": 2, "frame_0_delai": [1, 2], "frame_1_delai": [1, 2], "frame_2_delai": [1, 2], "frame_3_delai": [1, 2], "frame_4_delai": [1, 2], "frame_5_delai": [1, 2], "frame_6_delai": [1, 2], "frame_7_delai": [1, 2], "free": 0, "from": 2, "front": [2, 4], "full_width_half_max_0": 2, "full_width_half_max_1": 2, "full_width_half_max_2": 2, "function": 0, "fv": 2, "fwhm": 2, "get": 4, "getcwd": 2, "github": 2, "give": [2, 4], "glob": 2, "gnorm": 2, "gnorm1": 2, "gnorm2": 2, "go": [2, 4], "goe": 2, "grad": 2, "gradi": 2, "gradient": 2, "gradphij": 2, "grid": 2, "grid_sampl": 2, "group": 4, "guess": [2, 4], "gx": 2, "gx1": 2, "gx2": 2, "gy": 2, "gy1": 2, "gy2": 2, "ha": [2, 4], "had": 2, "half_width_half_max": 2, "have": [2, 4], "helper": 0, "here": [2, 4], "hfig": [2, 4], "hfig_": 2, "hfig_at": 2, "hfig_at_estim": 2, "hfig_reg": 2, "highpass": 2, "hist": 2, "home": [1, 2], "how": 2, "i": [2, 3, 4], "id": [2, 4], "ident": 2, "ifftn": 2, "ij": 2, "imag": [1, 2, 3, 4], "img_dir": 2, "import": [1, 2], "imread": 2, "imshow": [2, 4], "includ": [1, 2, 4], "ind": 2, "index": 2, "indic": 2, "indir": 1, "inew": 2, "init": 2, "initi": [2, 4], "input": [1, 2, 4], "instead": 2, "int": [2, 3, 4], "intermedi": 3, "interp": [2, 4], "interpn": 2, "interpol": 4, "inv": 2, "invers": 2, "inverse_transform_imag": [2, 4], "isav": 2, "ishap": 2, "isinst": 2, "isnan": 2, "issu": 2, "it_big_loop": 2, "item": 2, "iter": 2, "itself": [2, 4], "j": [2, 4], "j_": 2, "j__": 2, "jacobian": 4, "ji": 2, "ji_": 2, "join": [1, 2], "just": 2, "k": 2, "keep": 2, "keepdim": 2, "kei": 2, "kwarg": [2, 4], "l": [2, 4], "l_from_xv_a_p": [2, 4], "label": 2, "laplacian": [2, 4], "last": [2, 4], "later": 2, "layout": 2, "left": 2, "legend": 2, "len": 2, "length": [2, 4], "less": 2, "let": 2, "like": 2, "linalg": 2, "line": 2, "linear": 2, "linterfac": 2, "list": [2, 3], "ll": 2, "llnorm": 2, "load": 2, "local": 1, "locat": [1, 2, 4], "log": 2, "look": 2, "lower": 2, "lowpass": 2, "lsave": 2, "mai": 2, "main": [2, 3], "make": 2, "mani": [2, 4], "mappabl": 2, "match": 2, "matplotlib": [1, 2, 4], "matric": 2, "max": 2, "maxvsav": 2, "mayb": 2, "mean": 2, "meshgrid": 2, "method": 2, "middl": 2, "minim": [2, 4], "misc": 2, "mitra_data": 2, "mode": 2, "modifi": 2, "moon": 2, "mount": 2, "mous": 2, "move": 2, "mu2": 2, "multipli": 2, "n": [2, 4], "naf": 2, "name": 2, "nd": [2, 4], "ndarrai": 2, "ndim": 2, "nearest": 2, "necessari": 2, "need": 4, "neg": [2, 4], "next": 2, "nfile": 2, "ni": 2, "nice": [2, 4], "niter": [2, 4], "niter_atla": [2, 3], "niter_big_loop": [2, 3], "niter_reg": [2, 3], "nj": 2, "nn": 2, "no_grad": 2, "none": [2, 4], "normal": 2, "note": [1, 2, 4], "notebook": 2, "np": 2, "npad": [2, 3], "npy": 2, "npz": 2, "numel": 2, "numpi": 2, "o": [1, 2], "observ": 2, "odd": 2, "ok": 2, "one": 2, "ones": 2, "ones_lik": 2, "onli": 2, "onto": 2, "oooper": 2, "oper": 2, "oppos": [2, 4], "option": 2, "orig": 2, "other": 2, "our": 2, "out": [2, 4], "outdir": [1, 3], "output": [1, 2, 3, 4], "over": [2, 4], "p": [2, 3, 4], "pad": 2, "padding_mod": 2, "paper": 2, "parallel": 2, "paramet": 2, "path": [1, 2], "perform": 3, "permut": 2, "phi": [2, 4], "phii": [2, 4], "phiiaii": [2, 4], "phiirij": [2, 3, 4], "phiirij0": 2, "phiirij0_": 2, "phiirij_": 2, "phiiriw": 2, "pi": 2, "pipelin": 0, "pixel": [2, 4], "plane": 2, "plot": 2, "plot0": 2, "plot1": 2, "plot10": 2, "plot11": 2, "plot12": 2, "plot2": 2, "plot3": 2, "plot4": 2, "plot5": 2, "plot6": 2, "plot7": 2, "plot8": 2, "plot9": 2, "plt": [1, 2], "plu": 2, "png": [1, 2], "point": 2, "potenti": 3, "present": 3, "previous": [2, 4], "print": [1, 2], "probabl": 2, "prod": 2, "propag": 2, "ps0": 2, "ps0_": 2, "ps_": 2, "put": 2, "py": [1, 2], "pyplot": [1, 2, 4], "python3": 1, "pytorch": 3, "quit": 2, "r": 2, "r2": 2, "randn": 2, "rang": 2, "ravel": 2, "re": [2, 4], "real": 2, "realli": 2, "reason": 2, "redund": [2, 4], "reflect": 2, "reg": 2, "regist": [1, 2, 3], "relat": 2, "relev": 1, "remain": 2, "remov": [1, 2, 3], "remove_artifact": [1, 3], "repeat": 2, "report": 2, "requires_grad": 2, "reshap": 2, "return": 2, "return_fwhm": [2, 4], "return_invers": 2, "return_k": [2, 4], "return_weight": [2, 4], "ri": 2, "right": 2, "rigid": 2, "rloss": 2, "robust": 4, "robust_loss": [2, 4], "root": 2, "row": [2, 3], "rowon": 2, "rphii": [2, 3, 4], "run": 2, "s0": 2, "s1": 2, "same": 2, "sampl": 2, "save": [1, 2, 3], "saveallfig": [1, 3], "savefig": 2, "scalar": 1, "scale": [2, 4], "scipi": 2, "script": [1, 2], "script_path": 1, "seem": 2, "sequenc": 2, "set": 3, "set_loglevel": 2, "set_titl": 2, "set_yscal": 2, "shape": 2, "sharp": 2, "sharpness2": 2, "sharpnessa": 2, "should": [1, 2, 3, 4], "show": 2, "sigmam": [2, 3, 4], "sigmar": [2, 3, 4], "signal": [2, 4], "size": [2, 4], "skeleton": 2, "sl": 2, "slice": [0, 2], "slice_align": [1, 3], "slice_alignment_help": 4, "small": [2, 4], "smaller": 2, "so": [2, 4], "someth": 2, "somewher": 2, "sort": 2, "sourc": [3, 4], "space": [2, 4], "specif": 1, "specifi": [2, 4], "sphynx": 2, "split": 2, "splitext": 2, "sqrt": 2, "squar": [2, 4], "ss": 2, "stack": 2, "std": 2, "store": 1, "str": 3, "straighten": 2, "subplot": 2, "subplot_mosa": 2, "suggest": 2, "sum": [2, 4], "support": 3, "sure": 2, "svd": 2, "system": [1, 2, 4], "t": 2, "take": [2, 4], "target": [2, 4], "telescop": 2, "tensor": 2, "term": 2, "test": 2, "than": 2, "thei": 2, "ther": 2, "thi": [1, 2, 3, 4], "thing": 2, "think": 2, "time": [2, 4], "tmp": 2, "tmphat": 2, "toblur": 2, "todo": [2, 3, 4], "too": 4, "tood": 4, "torch": [1, 2, 4], "toshow": 2, "total": 2, "transform": 2, "transform_imag": [2, 4], "translat": 2, "transpos": 2, "true": [2, 4], "try": 2, "tsave": 2, "tupl": 2, "tweight": 2, "type": 3, "u": 2, "uint8": 2, "underscor": 2, "uniqu": 2, "unit": [2, 4], "until": 2, "upper": 2, "us": [2, 3, 4], "user": 2, "v": [2, 3, 4], "v1": 2, "v2": 2, "v2d": [2, 4], "v2dtov3d": [2, 4], "v3d": 2, "valu": 2, "vc1": 2, "vc2": 2, "ve": 2, "version": [2, 4], "vh": 2, "view": 2, "vmax1": 2, "vmax2": 2, "vmin1": 2, "vmin2": 2, "vnew": 2, "voxel": [2, 4], "vr1": 2, "vr2": 2, "w": [2, 4], "w_": 2, "w__": 2, "w_robust_loss": [2, 3], "wa": 2, "wait": 2, "want": [2, 4], "wdetjac": 2, "we": [2, 4], "weight": 4, "weighted_see_registr": [2, 4], "weird": 2, "what": 2, "when": 2, "where": [1, 2, 3], "which": [2, 4], "white": 2, "wi": 2, "wi_": 2, "widget": 2, "wiggl": 2, "wiggli": 2, "wm": 2, "wn": 2, "wr": 2, "wrap": 2, "wraparound": 2, "wsee": 2, "wshow": [2, 3], "x": [2, 4], "x0": 2, "x2d": 2, "x2di": 2, "x_from_n_d": [2, 4], "xf": 2, "xi": [2, 4], "xj": [2, 4], "xv": [2, 4], "xv2d": 2, "xyz": [2, 4], "y": 2, "ye": 2, "your": 1, "z": 2, "zero": [2, 4], "zero_": 2, "zeros_lik": 2, "zip": 2}, "titles": ["atlas_free_slice_alignment documentation", "&lt;no title&gt;", "Goal", "Atlas Free Slice Alignment Pipeline", "Atlas Free Slice Alignment Helper Functions"], "titleterms": {"algorithm": 2, "align": [3, 4], "all": 2, "andrew": 2, "ar": 2, "atla": [2, 3, 4], "atlas_free_slice_align": 0, "big": 2, "content": 0, "convert": 2, "document": 0, "exponenti": 2, "file": 2, "free": [3, 4], "function": [2, 4], "get": 2, "goal": 2, "group": 2, "helper": [2, 4], "interpol": 2, "jacobian": 2, "loss": 2, "need": 2, "now": 2, "paramet": [3, 4], "part": 2, "pipelin": 3, "place": 2, "pytorch": 2, "registr": 2, "return": [3, 4], "robust": 2, "set": 2, "slice": [3, 4], "some": 2, "sse": 2, "up": 2, "updat": 2, "weight": 2}})